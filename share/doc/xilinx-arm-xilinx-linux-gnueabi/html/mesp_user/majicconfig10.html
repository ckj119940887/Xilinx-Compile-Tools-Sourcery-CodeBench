<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <noscript>
       <link rel="StyleSheet" href="../MGC/styles/body.css" type="text/css" />
       <link rel="StyleSheet" href="../MGC/styles/catalog.css" type="text/css" />
       <link rel="StyleSheet" href="../MGC/styles/document.css" type="text/css" />
    </noscript>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.2.1385" />
    <meta name="TEMPLATEBASE" content="mgc_ww_v3.1.104" />
    <meta name="LASTUPDATED" content="Mon Oct 31 12:42:40 2011" />
    <meta name="mgc_html_doctitle" content="Mentor Embedded Sourcery Probe User's Manual" />
    <title>Register Definition File</title>
<!-- Search Engine keywords -->
    <meta name="attributes" content=" product.version.2.2.3,doc.type.documentation.user,product.id.P11526 "/>
<!-- JavaScript Files -->
<script type="text/javascript" language="JavaScript1.2" src="../MGC/js/page.js"></script>
<script type="text/javascript" language="JavaScript1.2">
        if(DetectChromeForBasic()){
           writeNoScriptStyles();
        }

     </script>
   <script type="text/javascript" language="JavaScript1.2">
     // Set reference to top level help frame
      //
      if(!DetectChromeForBasic()){
        javascriptTopicRedirect();
      }
     </script>
  </head>

<body class="body" id="DocBody">
<div id="BodyPopup" class="BodyPopup"></div>
<div class="HideBody" id="HideBody">&nbsp;</div>
<div id="bodycontent" class="BodyContent">





  <script type="text/javascript" language="JavaScript1.2">
  <!--
      var BC = new Array("Sourcery Probe Configuration ","majicconfig01","Register Definition File","majicconfig10","naV","naV","15");
  // -->
  </script>

   <noscript><iframe framespacing="0" marginheight="2px" frameborder="no" scrolling="no" src="../MGC/html/noscript_header.htm" width="100%" height="100px;"></iframe>
   </noscript>

<script type="text/javascript" language="JavaScript1.2">
if(DetectChromeForBasic()){
       if(!(top.inEclipse)){  
          writeBasicHeader();
      }
}
</script>
<div id="BodyContent">

<a name="wp22594"></a><h1 class="pHeading2 FontLevel1" id="MGC22594">

<a name="CRefID51640"></a><a name="CRefID25144"></a>
Register Definition File
</h1>
<a name="wp5416"></a><p class="pBody">

When Sourcery CodeBench opens an MDI connection, the MDI library automatically reads the register definition file corresponding to the CPU type you selected in the launch configuration properties. This is where the CPU and system coprocessor registers are defined.
</p>

<a name="wp22825"></a><p class="pBody">

You can also use a custom register definition file to add your own definitions for application-specific co-processor registers and memory-mapped registers. This allows you to access special registers by name with <span class=" cCourier cP10">MON</span> commands in the MDI window or Mentor Embedded Sourcery Probe script files instead of requiring you to remember their address. In addition to assigning names to the registers, bit fields within the registers can be defined so that bit fields can be viewed or set by name.
</p>

<table class="notes">
  <tr class="NotesUpperRuleBlack">
    <td class="NotesUpperRule" colspan='2'><span class="cNotesBlack">Note</span></td>
  </tr>
  <tr class="NotesNote">
    <td class="NoteNote"></td>
    <td valign="top">
            
<a name="wp22828"></a><p class="pnoteNote">

        	Registers defined in this way are known only to the MON command line and scripts.
<br />
        </p>
          </td>
  </tr>
  <tr class="NotesBottomRuleBlack">
    <td class="NotesBottomRule" colspan='2'>&nbsp;</td>
    </tr>
 </table>
<a name="wp5419"></a><p class="pBody">

After preparing your target initialization script (See <a href="majicconfig04.html"  onclick='oT("CRF","majicconfig04.html");return false;'>Sourcery Probe Target Initialization Scripts</a>), follow these steps to create and use register definition files for your custom hardware:
</p>

<a name="wp22884"></a>
<ol start="1"><li class="LL1Seq">Copy the template file, named <span class=" cItalic">template.rd, </span>to the directory that contains your Sourcery Probe target initialization file. <span class=" cBold">Note: </span>You might want to rename the file to associate it with the hardware it describes.</li></ol>
<table class="notes">
  <tr class="NotesUpperRuleBlack">
    <td class="NotesUpperRule" colspan='2'><span class="cNotesBlack"><img src="../MGC/images/blank2x2.png" /></span></td>
  </tr>
  <tr class="NotesNote">
    <td class="NoteTip"></td>
    <td valign="top">
            
<a name="wp28470"></a><p class="pnoteInfo">

        <span class=" cBold">	Tip</span>: The default location for<span class=" cBold"> </span><span class=" cCourier cP10 cItalic">template.rd</span> is in your working directory. See <a name="EW10"></a><a href="majic_setup2.html#CRefID12259" onclick='oT("CRF","majic_setup2.html#CRefID12259");'><span class=" cLinkOverride">Table&#160;1&#8209;1</span></a> for default installation directory locations.
        </p>
          </td>
  </tr>
  <tr class="NotesBottomRuleBlack">
    <td class="NotesBottomRule" colspan='2'>&nbsp;</td>
    </tr>
 </table>
<a name="wp5427"></a>
<ol start="2"><li class="LL1Seq">Add your register details with a text editor or with CodeBench, as described in <a href="majicconfig11.html"  onclick='oT("CRF","majicconfig11.html");return false;'>Register Definition File Format</a>.</li></ol>
<a name="wp5428"></a>
<ol start="3"><li class="LL1Seq">Add the following command to your custom initialization file to read your register definitions:</li></ol>
<a name="wp5432"></a><pre class="pCode">
      <span class=" cBold">fr rd</span> <span class=" cItalic">filename
</span>
</pre>

<table class="notes">
  <tr class="NotesUpperRuleBlack">
    <td class="NotesUpperRule" colspan='2'><span class="cNotesBlack"><img src="../MGC/images/blank2x2.png" /></span></td>
  </tr>
  <tr class="NotesNote">
    <td class="NoteTip"></td>
    <td valign="top">
            
<a name="wp17351"></a><p class="pnoteInfo">

        <span class=" cBold">	Tip</span>: You can use the same technique to define &quot;debugger local&quot; register names and field breakdowns. In this case, the debugger allocates space for the register in its own local memory, rather than at a specified target register or memory address. One use for debugger local registers is to enable fields to be used with write-only hardware resources. This is the read-modify-write sequence that happens when a value is assigned to a register field that would not work with the real hardware. A debugger local register can be defined with the field breakdown. Because the fields can be assigned values individually, the whole register can be copied to the real target register in one operation.
        </p>
          </td>
  </tr>
  <tr class="NotesBottomRuleBlack">
    <td class="NotesBottomRule" colspan='2'>&nbsp;</td>
    </tr>
 </table>





</div>
<!--BeginFooterContent-->
<div class="BlankFooter" id="BlankFooter">&nbsp;</div>
<div class="Footer" id="Footer">&nbsp;</div>
<script type="text/javascript" language="JavaScript1.2">
<!--
   DocHandle = "mesp_user";
   DocTitle = "Mentor Embedded Sourcery Probe User's Manual";
   PageTitle = "Register Definition File";
   Copyright = "2011";
   PDFLinkTitle = "Register.Definition.File"
   ThisTopic = "SettingMCAttributes";
   CurrentFile = "majicconfig10.html";
   CurrentFileID = "15";
   topicFooter();
 // -->
 </script>
 
 <noscript>
    <p class="MGCFooter">Mentor Embedded Sourcery Probe User's Manual&nbsp;2.2.3
    
<br />2011&#169;&nbsp;Mentor Graphics Corporation. All rights reserved.
    
<br /><a href='../mgc_html_help/nsmgchelp.htm' target="_blank">Browser Requirements</a></p>
 </noscript>

    </div>
  </body>
</html>

 